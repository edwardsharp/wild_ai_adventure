{"version":3,"file":"webauthn-auth.js","sources":["../src/lib/api-spec.ts","../src/lib/api-client.ts","../src/web-components/webauthn-component.tsx"],"sourcesContent":["import { z } from \"zod\";\n\n// WebAuthn specific schemas\nexport const WebAuthnPublicKeyCredentialCreationOptionsSchema = z.object({\n  challenge: z.string(),\n  rp: z.object({\n    id: z.string(),\n    name: z.string(),\n  }),\n  user: z.object({\n    id: z.string(),\n    name: z.string(),\n    displayName: z.string(),\n  }),\n  pubKeyCredParams: z.array(z.any()),\n  timeout: z.number(),\n  excludeCredentials: z.array(z.any()),\n  authenticatorSelection: z.object({\n    residentKey: z.string(),\n    requireResidentKey: z.boolean(),\n    userVerification: z.string(),\n  }),\n  attestation: z.string(),\n  extensions: z.object({}).optional(),\n});\n\nexport const WebAuthnPublicKeyCredentialRequestOptionsSchema = z.object({\n  challenge: z.string(),\n  timeout: z.number(),\n  rpId: z.string(),\n  allowCredentials: z.array(z.any()),\n  userVerification: z.string(),\n});\n\nexport const WebAuthnCredentialSchema = z.object({\n  id: z.string(),\n  rawId: z.string(),\n  response: z.object({\n    attestationObject: z.string(),\n    clientDataJSON: z.string(),\n  }),\n  type: z.string(),\n});\n\nexport const WebAuthnAssertionSchema = z.object({\n  id: z.string(),\n  rawId: z.string(),\n  response: z.object({\n    authenticatorData: z.string().optional(),\n    clientDataJSON: z.string(),\n    signature: z.string().optional(),\n    userHandle: z.string().optional(),\n  }),\n  type: z.string(),\n});\n\n// API Specification - this describes all available routes and their schemas\nexport const API_SPEC = {\n  baseUrl: \"http://localhost:8080\",\n  endpoints: {\n    registerStart: {\n      method: \"POST\" as const,\n      path: \"/register_start/{username}\",\n      pathParams: [\"username\"] as const,\n      queryParams: z.object({\n        invite_code: z.string().optional(),\n      }),\n      requestSchema: z.void(),\n      responseSchema: z.object({\n        publicKey: WebAuthnPublicKeyCredentialCreationOptionsSchema,\n      }),\n    },\n    registerFinish: {\n      method: \"POST\" as const,\n      path: \"/register_finish\",\n      requestSchema: WebAuthnCredentialSchema,\n      responseSchema: z\n        .object({\n          message: z.string().optional(),\n        })\n        .optional(),\n    },\n    loginStart: {\n      method: \"POST\" as const,\n      path: \"/login_start/{username}\",\n      pathParams: [\"username\"] as const,\n      requestSchema: z.void(),\n      responseSchema: z.object({\n        publicKey: WebAuthnPublicKeyCredentialRequestOptionsSchema,\n      }),\n    },\n    loginFinish: {\n      method: \"POST\" as const,\n      path: \"/login_finish\",\n      requestSchema: WebAuthnAssertionSchema,\n      responseSchema: z\n        .object({\n          message: z.string().optional(),\n        })\n        .optional(),\n    },\n    logout: {\n      method: \"POST\" as const,\n      path: \"/logout\",\n      requestSchema: z.void(),\n      responseSchema: z\n        .object({\n          message: z.string().optional(),\n        })\n        .optional(),\n    },\n    health: {\n      method: \"GET\" as const,\n      path: \"/health\",\n      requestSchema: z.void(),\n      responseSchema: z.void(),\n    },\n    authStatus: {\n      method: \"GET\" as const,\n      path: \"/auth/status\",\n      requestSchema: z.void(),\n      responseSchema: z.object({\n        authenticated: z.boolean(),\n        user_id: z.string().optional(),\n      }),\n    },\n  },\n} as const;\n\n// Type helpers for working with the API spec\nexport type ApiSpec = typeof API_SPEC;\nexport type EndpointName = keyof ApiSpec[\"endpoints\"];\nexport type EndpointConfig<T extends EndpointName> = ApiSpec[\"endpoints\"][T];\n\n// Inferred types from schemas\nexport type RegisterStartRequest = z.infer<\n  typeof API_SPEC.endpoints.registerStart.requestSchema\n>;\nexport type RegisterStartResponse = z.infer<\n  typeof API_SPEC.endpoints.registerStart.responseSchema\n>;\nexport type RegisterStartQueryParams = z.infer<\n  typeof API_SPEC.endpoints.registerStart.queryParams\n>;\n\nexport type RegisterFinishRequest = z.infer<\n  typeof API_SPEC.endpoints.registerFinish.requestSchema\n>;\nexport type RegisterFinishResponse = z.infer<\n  typeof API_SPEC.endpoints.registerFinish.responseSchema\n>;\n\nexport type LoginStartRequest = z.infer<\n  typeof API_SPEC.endpoints.loginStart.requestSchema\n>;\nexport type LoginStartResponse = z.infer<\n  typeof API_SPEC.endpoints.loginStart.responseSchema\n>;\n\nexport type LoginFinishRequest = z.infer<\n  typeof API_SPEC.endpoints.loginFinish.requestSchema\n>;\nexport type LoginFinishResponse = z.infer<\n  typeof API_SPEC.endpoints.loginFinish.responseSchema\n>;\n\nexport type LogoutRequest = z.infer<\n  typeof API_SPEC.endpoints.logout.requestSchema\n>;\nexport type LogoutResponse = z.infer<\n  typeof API_SPEC.endpoints.logout.responseSchema\n>;\n\nexport type HealthRequest = z.infer<\n  typeof API_SPEC.endpoints.health.requestSchema\n>;\nexport type HealthResponse = z.infer<\n  typeof API_SPEC.endpoints.health.responseSchema\n>;\n\nexport type AuthStatusRequest = z.infer<\n  typeof API_SPEC.endpoints.authStatus.requestSchema\n>;\nexport type AuthStatusResponse = z.infer<\n  typeof API_SPEC.endpoints.authStatus.responseSchema\n>;\n\n// WebAuthn specific types\nexport type WebAuthnCredential = z.infer<typeof WebAuthnCredentialSchema>;\nexport type WebAuthnAssertion = z.infer<typeof WebAuthnAssertionSchema>;\nexport type WebAuthnPublicKeyCredentialCreationOptions = z.infer<\n  typeof WebAuthnPublicKeyCredentialCreationOptionsSchema\n>;\nexport type WebAuthnPublicKeyCredentialRequestOptions = z.infer<\n  typeof WebAuthnPublicKeyCredentialRequestOptionsSchema\n>;\n","import { z } from \"zod\";\nimport { API_SPEC } from \"./api-spec.js\";\nimport type {\n  RegisterStartResponse,\n  RegisterFinishRequest,\n  RegisterFinishResponse,\n  LoginStartResponse,\n  LoginFinishRequest,\n  LoginFinishResponse,\n  LogoutResponse,\n  AuthStatusResponse,\n  HealthResponse,\n} from \"./api-spec.js\";\n\n// Error handling\nexport class ApiError extends Error {\n  constructor(\n    message: string,\n    public status: number,\n    public responseText: string,\n    public endpoint?: string\n  ) {\n    super(message);\n    this.name = \"ApiError\";\n  }\n\n  static async fromResponse(\n    response: Response,\n    endpoint?: string\n  ): Promise<ApiError> {\n    const responseText = await response.text();\n    return new ApiError(\n      `HTTP ${response.status}: ${responseText}`,\n      response.status,\n      responseText,\n      endpoint\n    );\n  }\n}\n\n// Configuration interface\nexport interface ApiClientConfig {\n  baseUrl?: string;\n  defaultHeaders?: Record<string, string>;\n  timeout?: number;\n  credentials?: RequestCredentials;\n}\n\n// Main API Client class\nexport class ApiClient {\n  private baseUrl: string;\n  private defaultHeaders: Record<string, string>;\n  private timeout: number;\n  private credentials: RequestCredentials;\n\n  constructor(config: ApiClientConfig = {}) {\n    this.baseUrl = config.baseUrl ?? API_SPEC.baseUrl;\n    this.defaultHeaders = config.defaultHeaders ?? {};\n    this.timeout = config.timeout ?? 30000;\n    this.credentials = config.credentials ?? \"include\";\n  }\n\n  // Header management\n  setHeader(key: string, value: string): void {\n    this.defaultHeaders[key] = value;\n  }\n\n  removeHeader(key: string): void {\n    delete this.defaultHeaders[key];\n  }\n\n  getHeaders(): Record<string, string> {\n    return { ...this.defaultHeaders };\n  }\n\n  // Configuration updates\n  setBaseUrl(baseUrl: string): void {\n    this.baseUrl = baseUrl;\n  }\n\n  setTimeout(timeout: number): void {\n    this.timeout = timeout;\n  }\n\n  setCredentials(credentials: RequestCredentials): void {\n    this.credentials = credentials;\n  }\n\n  // Private method to build URL with path parameters and query parameters\n  private buildUrl(\n    path: string,\n    pathParams?: Record<string, string>,\n    queryParams?: Record<string, unknown>\n  ): string {\n    let url = path;\n\n    // Replace path parameters\n    if (pathParams) {\n      Object.entries(pathParams).forEach(([key, value]) => {\n        url = url.replace(`{${key}}`, encodeURIComponent(value));\n      });\n    }\n\n    // Add query parameters\n    if (queryParams) {\n      const searchParams = new URLSearchParams();\n      Object.entries(queryParams).forEach(([key, value]) => {\n        if (value !== undefined && value !== null) {\n          searchParams.append(key, String(value));\n        }\n      });\n      const queryString = searchParams.toString();\n      if (queryString) {\n        url += `?${queryString}`;\n      }\n    }\n\n    return `${this.baseUrl}${url}`;\n  }\n\n  // Generic request method with timeout and validation\n  private async request<T>(\n    method: string,\n    url: string,\n    options: {\n      body?: unknown;\n      headers?: Record<string, string>;\n      responseSchema?: z.ZodSchema<T>;\n      requestSchema?: z.ZodSchema<unknown>;\n      endpoint?: string;\n    } = {}\n  ): Promise<T> {\n    const {\n      body,\n      headers = {},\n      responseSchema,\n      requestSchema,\n      endpoint,\n    } = options;\n\n    // Validate request body if schema provided\n    if (requestSchema && body !== undefined) {\n      requestSchema.parse(body);\n    }\n\n    const requestHeaders = {\n      \"Content-Type\": \"application/json\",\n      ...this.defaultHeaders,\n      ...headers,\n    };\n\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), this.timeout);\n\n    try {\n      const response = await fetch(url, {\n        method,\n        headers: requestHeaders,\n        body: body !== undefined ? JSON.stringify(body) : null,\n        credentials: this.credentials,\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        throw await ApiError.fromResponse(response, endpoint);\n      }\n\n      // Handle void responses\n      if (responseSchema instanceof z.ZodVoid || !responseSchema) {\n        return undefined as T;\n      }\n\n      let data: unknown;\n      const contentType = response.headers.get(\"content-type\");\n\n      if (contentType?.includes(\"application/json\")) {\n        data = await response.json();\n      } else {\n        const text = await response.text();\n        data = text || undefined;\n      }\n\n      // Validate response if schema provided\n      if (responseSchema) {\n        return responseSchema.parse(data);\n      }\n\n      return data as T;\n    } catch (error) {\n      clearTimeout(timeoutId);\n\n      if (error instanceof ApiError) {\n        throw error;\n      }\n\n      if (error instanceof DOMException && error.name === \"AbortError\") {\n        throw new ApiError(\n          `Request timeout after ${this.timeout}ms`,\n          408,\n          \"Request Timeout\",\n          endpoint\n        );\n      }\n\n      throw new ApiError(\n        `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n        0,\n        String(error),\n        endpoint\n      );\n    }\n  }\n\n  // WebAuthn Registration Flow\n  async registerStart(\n    username: string,\n    queryParams?: { invite_code?: string }\n  ): Promise<RegisterStartResponse> {\n    const config = API_SPEC.endpoints.registerStart;\n    const url = this.buildUrl(config.path, { username }, queryParams);\n\n    return this.request(config.method, url, {\n      requestSchema: config.requestSchema,\n      responseSchema: config.responseSchema,\n      endpoint: \"registerStart\",\n    });\n  }\n\n  async registerFinish(\n    request: RegisterFinishRequest\n  ): Promise<RegisterFinishResponse> {\n    const config = API_SPEC.endpoints.registerFinish;\n    const url = this.buildUrl(config.path);\n\n    return this.request(config.method, url, {\n      body: request,\n      requestSchema: config.requestSchema,\n      responseSchema: config.responseSchema,\n      endpoint: \"registerFinish\",\n    });\n  }\n\n  // WebAuthn Login Flow\n  async loginStart(username: string): Promise<LoginStartResponse> {\n    const config = API_SPEC.endpoints.loginStart;\n    const url = this.buildUrl(config.path, { username });\n\n    return this.request(config.method, url, {\n      requestSchema: config.requestSchema,\n      responseSchema: config.responseSchema,\n      endpoint: \"loginStart\",\n    });\n  }\n\n  async loginFinish(request: LoginFinishRequest): Promise<LoginFinishResponse> {\n    const config = API_SPEC.endpoints.loginFinish;\n    const url = this.buildUrl(config.path);\n\n    return this.request(config.method, url, {\n      body: request,\n      requestSchema: config.requestSchema,\n      responseSchema: config.responseSchema,\n      endpoint: \"loginFinish\",\n    });\n  }\n\n  // Authentication Management\n  async logout(): Promise<LogoutResponse> {\n    const config = API_SPEC.endpoints.logout;\n    const url = this.buildUrl(config.path);\n\n    return this.request(config.method, url, {\n      requestSchema: config.requestSchema,\n      responseSchema: config.responseSchema,\n      endpoint: \"logout\",\n    });\n  }\n\n  async authStatus(): Promise<AuthStatusResponse> {\n    const config = API_SPEC.endpoints.authStatus;\n    const url = this.buildUrl(config.path);\n\n    return this.request(config.method, url, {\n      requestSchema: config.requestSchema,\n      responseSchema: config.responseSchema,\n      endpoint: \"authStatus\",\n    });\n  }\n\n  // Health Check\n  async health(): Promise<HealthResponse> {\n    const config = API_SPEC.endpoints.health;\n    const url = this.buildUrl(config.path);\n\n    return this.request(config.method, url, {\n      requestSchema: config.requestSchema,\n      responseSchema: config.responseSchema,\n      endpoint: \"health\",\n    });\n  }\n}\n\n// Default client instance\nexport const apiClient = new ApiClient();\n\n// Re-export types for convenience\nexport type {\n  RegisterStartRequest,\n  RegisterStartResponse,\n  RegisterFinishRequest,\n  RegisterFinishResponse,\n  LoginStartRequest,\n  LoginStartResponse,\n  LoginFinishRequest,\n  LoginFinishResponse,\n  LogoutRequest,\n  LogoutResponse,\n  HealthRequest,\n  HealthResponse,\n  AuthStatusRequest,\n  AuthStatusResponse,\n  WebAuthnCredential,\n  WebAuthnAssertion,\n} from \"./api-spec.js\";\n\nexport { API_SPEC } from \"./api-spec.js\";\n","/* @jsxImportSource solid-js */\nimport { customElement } from \"solid-element\";\nimport {\n  createSignal,\n  createEffect,\n  onMount,\n  Show,\n  createMemo,\n} from \"solid-js\";\n\n// Import the API client from parent clientlib\nimport { ApiClient, ApiError } from \"../lib/api-client.js\";\n\n// WebAuthn types\ntype UserVerificationRequirement = \"required\" | \"preferred\" | \"discouraged\";\n\nexport interface WebAuthnAuthProps {\n  baseUrl?: string;\n  theme?: \"light\" | \"dark\" | \"auto\";\n}\n\n// Base64 utility functions for WebAuthn\nconst base64ToUint8Array = (base64: string): Uint8Array => {\n  const binaryString = atob(base64.replace(/-/g, \"+\").replace(/_/g, \"/\"));\n  const bytes = new Uint8Array(binaryString.length);\n  for (let i = 0; i < binaryString.length; i++) {\n    bytes[i] = binaryString.charCodeAt(i);\n  }\n  return bytes;\n};\n\nconst uint8ArrayToBase64 = (uint8Array: Uint8Array): string => {\n  let binaryString = \"\";\n  for (let i = 0; i < uint8Array.length; i++) {\n    binaryString += String.fromCharCode(uint8Array[i]!);\n  }\n  return btoa(binaryString)\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\")\n    .replace(/=/g, \"\");\n};\n\ncustomElement(\"webauthn-auth\", { baseUrl: \"\", theme: \"auto\" }, (props) => {\n  const [username, setUsername] = createSignal(\"\");\n  const [inviteCode, setInviteCode] = createSignal(\"\");\n  const [isAuthenticated, setIsAuthenticated] = createSignal(false);\n  const [currentUser, setCurrentUser] = createSignal<string | null>(null);\n  const [isLoading, setIsLoading] = createSignal(false);\n  const [message, setMessage] = createSignal(\"\");\n  const [messageType, setMessageType] = createSignal<\n    \"info\" | \"success\" | \"error\"\n  >(\"info\");\n  const [mode, setMode] = createSignal<\"login\" | \"register\">(\"login\");\n\n  const apiClient = createMemo(\n    () =>\n      new ApiClient({\n        baseUrl: props.baseUrl || \"http://localhost:8080\",\n      })\n  );\n\n  const showMessage = (\n    msg: string,\n    type: \"info\" | \"success\" | \"error\" = \"info\"\n  ) => {\n    setMessage(msg);\n    setMessageType(type);\n    setTimeout(() => setMessage(\"\"), 5000);\n  };\n\n  const handleError = (error: unknown) => {\n    const errorMessage =\n      error instanceof ApiError\n        ? `${error.message} (${error.status})`\n        : error instanceof Error\n          ? error.message\n          : \"An unknown error occurred\";\n\n    showMessage(errorMessage, \"error\");\n\n    // Dispatch custom event for error\n    const element = document.querySelector(\"webauthn-auth\");\n    if (element) {\n      element.dispatchEvent(\n        new CustomEvent(\"webauthn-error\", {\n          detail: { error: errorMessage },\n          bubbles: true,\n        })\n      );\n    }\n  };\n\n  const checkAuthStatus = async () => {\n    try {\n      const status = await apiClient().authStatus();\n      setIsAuthenticated(status.authenticated);\n      setCurrentUser(status.user_id || null);\n      return status.authenticated;\n    } catch {\n      setIsAuthenticated(false);\n      setCurrentUser(null);\n      return false;\n    }\n  };\n\n  const handleRegister = async () => {\n    if (!username() || !inviteCode()) {\n      showMessage(\"Please enter both username and invite code\", \"error\");\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      // Start registration\n      const challenge = await apiClient().registerStart(username(), {\n        invite_code: inviteCode(),\n      });\n\n      // Convert challenge data for WebAuthn API\n      const credentialCreationOptions: CredentialCreationOptions = {\n        publicKey: {\n          ...challenge.publicKey,\n          challenge: base64ToUint8Array(challenge.publicKey.challenge),\n          attestation: challenge.publicKey\n            .attestation as AttestationConveyancePreference,\n          user: {\n            ...challenge.publicKey.user,\n            id: base64ToUint8Array(challenge.publicKey.user.id),\n          },\n          authenticatorSelection: {\n            ...challenge.publicKey.authenticatorSelection,\n            residentKey: challenge.publicKey.authenticatorSelection\n              .residentKey as ResidentKeyRequirement,\n            userVerification: challenge.publicKey.authenticatorSelection\n              .userVerification as UserVerificationRequirement,\n          },\n          excludeCredentials: challenge.publicKey.excludeCredentials?.map(\n            (cred) => ({\n              ...cred,\n              id: base64ToUint8Array(cred.id),\n            })\n          ),\n          ...(challenge.publicKey.extensions && {\n            extensions: challenge.publicKey.extensions,\n          }),\n        },\n      };\n\n      // Create credential\n      const credential = (await navigator.credentials.create(\n        credentialCreationOptions\n      )) as PublicKeyCredential;\n\n      if (!credential) {\n        throw new Error(\"Failed to create credential\");\n      }\n\n      // Finish registration\n      await apiClient().registerFinish({\n        id: credential.id,\n        rawId: uint8ArrayToBase64(new Uint8Array(credential.rawId)),\n        type: credential.type,\n        response: {\n          attestationObject: uint8ArrayToBase64(\n            new Uint8Array(\n              (\n                credential.response as AuthenticatorAttestationResponse\n              ).attestationObject\n            )\n          ),\n          clientDataJSON: uint8ArrayToBase64(\n            new Uint8Array(credential.response.clientDataJSON)\n          ),\n        },\n      });\n\n      showMessage(\"Registration successful!\", \"success\");\n      await checkAuthStatus();\n\n      // Dispatch custom event for login\n      const element = document.querySelector(\"webauthn-auth\");\n      if (element) {\n        element.dispatchEvent(\n          new CustomEvent(\"webauthn-login\", {\n            detail: { username: username() },\n            bubbles: true,\n          })\n        );\n      }\n    } catch (error) {\n      handleError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleLogin = async () => {\n    if (!username()) {\n      showMessage(\"Please enter a username\", \"error\");\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      // Start login\n      const challenge = await apiClient().loginStart(username());\n\n      // Convert challenge data for WebAuthn API\n      const credentialRequestOptions: CredentialRequestOptions = {\n        publicKey: {\n          ...challenge.publicKey,\n          challenge: base64ToUint8Array(challenge.publicKey.challenge),\n          userVerification: challenge.publicKey\n            .userVerification as UserVerificationRequirement,\n          allowCredentials: challenge.publicKey.allowCredentials?.map(\n            (cred) => ({\n              ...cred,\n              id: base64ToUint8Array(cred.id),\n            })\n          ),\n        },\n      };\n\n      // Get assertion\n      const assertion = (await navigator.credentials.get(\n        credentialRequestOptions\n      )) as PublicKeyCredential;\n\n      if (!assertion) {\n        throw new Error(\"Failed to get assertion\");\n      }\n\n      // Finish login\n      await apiClient().loginFinish({\n        id: assertion.id,\n        rawId: uint8ArrayToBase64(new Uint8Array(assertion.rawId)),\n        type: assertion.type,\n        response: {\n          authenticatorData: uint8ArrayToBase64(\n            new Uint8Array(\n              (\n                assertion.response as AuthenticatorAssertionResponse\n              ).authenticatorData\n            )\n          ),\n          clientDataJSON: uint8ArrayToBase64(\n            new Uint8Array(assertion.response.clientDataJSON)\n          ),\n          signature: uint8ArrayToBase64(\n            new Uint8Array(\n              (assertion.response as AuthenticatorAssertionResponse).signature\n            )\n          ),\n          userHandle: (assertion.response as AuthenticatorAssertionResponse)\n            .userHandle\n            ? uint8ArrayToBase64(\n                new Uint8Array(\n                  (\n                    assertion.response as AuthenticatorAssertionResponse\n                  ).userHandle!\n                )\n              )\n            : undefined,\n        },\n      });\n\n      showMessage(\"Login successful!\", \"success\");\n      await checkAuthStatus();\n\n      // Dispatch custom event for login\n      const element = document.querySelector(\"webauthn-auth\");\n      if (element) {\n        element.dispatchEvent(\n          new CustomEvent(\"webauthn-login\", {\n            detail: { username: username() },\n            bubbles: true,\n          })\n        );\n      }\n    } catch (error) {\n      handleError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    setIsLoading(true);\n    try {\n      await apiClient().logout();\n      setIsAuthenticated(false);\n      setCurrentUser(null);\n      setUsername(\"\");\n      setInviteCode(\"\");\n      showMessage(\"Logged out successfully\", \"success\");\n\n      // Dispatch custom event for logout\n      const element = document.querySelector(\"webauthn-auth\");\n      if (element) {\n        element.dispatchEvent(\n          new CustomEvent(\"webauthn-logout\", {\n            bubbles: true,\n          })\n        );\n      }\n    } catch (error) {\n      handleError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleEnterKey = (event: KeyboardEvent) => {\n    if (event.key === \"Enter\") {\n      if (mode() === \"register\" && username() && inviteCode()) {\n        handleRegister();\n      } else if (mode() === \"login\" && username()) {\n        handleLogin();\n      }\n    }\n  };\n\n  const updateMode = () => {\n    if (username() && inviteCode()) {\n      setMode(\"register\");\n    } else if (username()) {\n      setMode(\"login\");\n    }\n  };\n\n  // Check auth status on mount\n  onMount(() => {\n    checkAuthStatus();\n  });\n\n  // Update mode when inputs change\n  createEffect(() => {\n    updateMode();\n  });\n\n  const getThemeClass = () => {\n    const theme = props.theme || \"auto\";\n    if (theme === \"auto\") {\n      return \"webauthn-theme-auto\";\n    }\n    return `webauthn-theme-${theme}`;\n  };\n\n  return (\n    <div\n      class={`webauthn-auth ${getThemeClass()}`}\n      style={{\n        \"max-width\": \"400px\",\n        margin: \"0 auto\",\n        padding: \"1.5rem\",\n        border: \"1px solid #e1e5e9\",\n        \"border-radius\": \"8px\",\n        background: props.theme === \"dark\" ? \"#1a1a1a\" : \"white\",\n        color: props.theme === \"dark\" ? \"white\" : \"black\",\n        \"font-family\":\n          '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n      }}\n    >\n      <h2\n        style={{\n          \"text-align\": \"center\",\n          \"margin-bottom\": \"1.5rem\",\n          \"font-size\": \"1.5rem\",\n          \"font-weight\": \"600\",\n        }}\n      >\n        WebAuthn Authentication\n      </h2>\n\n      <Show when={message()}>\n        <div\n          style={{\n            padding: \"0.75rem\",\n            \"border-radius\": \"6px\",\n            \"margin-bottom\": \"1rem\",\n            \"font-size\": \"0.875rem\",\n            background:\n              messageType() === \"error\"\n                ? \"#fee2e2\"\n                : messageType() === \"success\"\n                  ? \"#dcfce7\"\n                  : \"#dbeafe\",\n            color:\n              messageType() === \"error\"\n                ? \"#991b1b\"\n                : messageType() === \"success\"\n                  ? \"#166534\"\n                  : \"#1e40af\",\n          }}\n        >\n          {message()}\n        </div>\n      </Show>\n\n      <Show\n        when={!isAuthenticated()}\n        fallback={\n          <div>\n            <div style={{ \"text-align\": \"center\", \"margin-bottom\": \"1rem\" }}>\n              <p>\n                Welcome,{\" \"}\n                <span style={{ \"font-weight\": \"600\" }}>{currentUser()}</span>!\n              </p>\n              <p\n                style={{\n                  \"font-size\": \"0.875rem\",\n                  color: \"#6b7280\",\n                  \"text-align\": \"center\",\n                  \"margin-top\": \"0.5rem\",\n                }}\n              >\n                You are successfully authenticated.\n              </p>\n            </div>\n            <button\n              style={{\n                padding: \"0.75rem 1.5rem\",\n                border: \"none\",\n                \"border-radius\": \"6px\",\n                \"font-size\": \"1rem\",\n                \"font-weight\": \"500\",\n                cursor: isLoading() ? \"not-allowed\" : \"pointer\",\n                transition: \"all 0.2s\",\n                \"min-height\": \"48px\",\n                display: \"flex\",\n                \"align-items\": \"center\",\n                \"justify-content\": \"center\",\n                gap: \"0.5rem\",\n                background: \"#ef4444\",\n                color: \"white\",\n              }}\n              onClick={handleLogout}\n              disabled={isLoading()}\n            >\n              <Show when={isLoading()}>\n                <div\n                  style={{\n                    width: \"20px\",\n                    height: \"20px\",\n                    border: \"2px solid transparent\",\n                    \"border-top\": \"2px solid currentColor\",\n                    \"border-radius\": \"50%\",\n                    animation: \"spin 1s linear infinite\",\n                  }}\n                />\n              </Show>\n              Logout\n            </button>\n          </div>\n        }\n      >\n        <div\n          style={{ display: \"flex\", \"flex-direction\": \"column\", gap: \"1rem\" }}\n        >\n          <input\n            style={{\n              padding: \"0.75rem\",\n              border: \"1px solid #d1d5db\",\n              \"border-radius\": \"6px\",\n              \"font-size\": \"1rem\",\n              background: props.theme === \"dark\" ? \"#2a2a2a\" : \"white\",\n              color: props.theme === \"dark\" ? \"white\" : \"black\",\n            }}\n            type=\"text\"\n            placeholder=\"Username\"\n            value={username()}\n            onInput={(e) => setUsername(e.currentTarget.value)}\n            onKeyDown={handleEnterKey}\n            disabled={isLoading()}\n          />\n\n          <input\n            style={{\n              padding: \"0.75rem\",\n              border: \"1px solid #d1d5db\",\n              \"border-radius\": \"6px\",\n              \"font-size\": \"1rem\",\n              background: props.theme === \"dark\" ? \"#2a2a2a\" : \"white\",\n              color: props.theme === \"dark\" ? \"white\" : \"black\",\n            }}\n            type=\"text\"\n            placeholder=\"Invite or account link code (optional)\"\n            value={inviteCode()}\n            onInput={(e) => setInviteCode(e.currentTarget.value)}\n            onKeyDown={handleEnterKey}\n            disabled={isLoading()}\n          />\n\n          <Show when={mode() === \"register\"}>\n            <button\n              style={{\n                padding: \"0.75rem 1.5rem\",\n                border: \"none\",\n                \"border-radius\": \"6px\",\n                \"font-size\": \"1rem\",\n                \"font-weight\": \"500\",\n                cursor:\n                  isLoading() || !username() || !inviteCode()\n                    ? \"not-allowed\"\n                    : \"pointer\",\n                transition: \"all 0.2s\",\n                \"min-height\": \"48px\",\n                display: \"flex\",\n                \"align-items\": \"center\",\n                \"justify-content\": \"center\",\n                gap: \"0.5rem\",\n                background:\n                  isLoading() || !username() || !inviteCode()\n                    ? \"#9ca3af\"\n                    : \"#10b981\",\n                color: \"white\",\n              }}\n              onClick={handleRegister}\n              disabled={isLoading() || !username() || !inviteCode()}\n            >\n              <Show when={isLoading()}>\n                <div\n                  style={{\n                    width: \"20px\",\n                    height: \"20px\",\n                    border: \"2px solid transparent\",\n                    \"border-top\": \"2px solid currentColor\",\n                    \"border-radius\": \"50%\",\n                    animation: \"spin 1s linear infinite\",\n                  }}\n                />\n              </Show>\n              Register\n            </button>\n            <p\n              style={{\n                \"font-size\": \"0.875rem\",\n                color: \"#6b7280\",\n                \"text-align\": \"center\",\n                \"margin-top\": \"0.5rem\",\n              }}\n            >\n              Ready to register with invite code (Press Enter)\n            </p>\n          </Show>\n\n          <Show when={mode() === \"login\"}>\n            <button\n              style={{\n                padding: \"0.75rem 1.5rem\",\n                border: \"none\",\n                \"border-radius\": \"6px\",\n                \"font-size\": \"1rem\",\n                \"font-weight\": \"500\",\n                cursor: isLoading() || !username() ? \"not-allowed\" : \"pointer\",\n                transition: \"all 0.2s\",\n                \"min-height\": \"48px\",\n                display: \"flex\",\n                \"align-items\": \"center\",\n                \"justify-content\": \"center\",\n                gap: \"0.5rem\",\n                background: isLoading() || !username() ? \"#9ca3af\" : \"#3b82f6\",\n                color: \"white\",\n              }}\n              onClick={handleLogin}\n              disabled={isLoading() || !username()}\n            >\n              <Show when={isLoading()}>\n                <div\n                  style={{\n                    width: \"20px\",\n                    height: \"20px\",\n                    border: \"2px solid transparent\",\n                    \"border-top\": \"2px solid currentColor\",\n                    \"border-radius\": \"50%\",\n                    animation: \"spin 1s linear infinite\",\n                  }}\n                />\n              </Show>\n              Login\n            </button>\n            <p\n              style={{\n                \"font-size\": \"0.875rem\",\n                color: \"#6b7280\",\n                \"text-align\": \"center\",\n                \"margin-top\": \"0.5rem\",\n              }}\n            >\n              {username()\n                ? \"Ready to login (Press Enter, or add invite code to register)\"\n                : \"Enter your username to login, or username + invite code to register\"}\n            </p>\n          </Show>\n        </div>\n      </Show>\n    </div>\n  );\n});\n\n// Export version info\nexport const VERSION = \"1.0.0\";\n"],"names":["WebAuthnPublicKeyCredentialCreationOptionsSchema","z.object","z.string","z.array","z.any","z.number","z.boolean","WebAuthnPublicKeyCredentialRequestOptionsSchema","WebAuthnCredentialSchema","WebAuthnAssertionSchema","API_SPEC","z.void","ApiError","message","status","responseText","endpoint","response","ApiClient","config","key","value","baseUrl","timeout","credentials","path","pathParams","queryParams","url","searchParams","queryString","method","options","body","headers","responseSchema","requestSchema","requestHeaders","controller","timeoutId","z.ZodVoid","data","error","username","request","base64ToUint8Array","base64","binaryString","atob","replace","bytes","Uint8Array","length","i","charCodeAt","uint8ArrayToBase64","uint8Array","String","fromCharCode","btoa","customElement","theme","props","setUsername","createSignal","inviteCode","setInviteCode","isAuthenticated","setIsAuthenticated","currentUser","setCurrentUser","isLoading","setIsLoading","setMessage","messageType","setMessageType","mode","setMode","apiClient","createMemo","showMessage","msg","type","setTimeout","handleError","errorMessage","Error","element","document","querySelector","dispatchEvent","CustomEvent","detail","bubbles","checkAuthStatus","authStatus","authenticated","user_id","handleRegister","challenge","registerStart","invite_code","credentialCreationOptions","publicKey","attestation","user","id","authenticatorSelection","residentKey","userVerification","excludeCredentials","map","cred","extensions","credential","navigator","create","registerFinish","rawId","attestationObject","clientDataJSON","handleLogin","loginStart","credentialRequestOptions","allowCredentials","assertion","get","loginFinish","authenticatorData","signature","userHandle","undefined","handleLogout","logout","handleEnterKey","event","updateMode","onMount","createEffect","getThemeClass","_el$","_tmpl$7","_el$2","firstChild","style","setProperty","_$insert","_$createComponent","Show","when","children","_el$3","_tmpl$","_$effect","_p$","_v$","_v$2","e","removeProperty","t","fallback","_el$13","_tmpl$8","_el$14","_el$15","_el$16","_el$18","nextSibling","_el$19","_el$20","_el$22","$$click","_el$21","_v$16","_v$17","disabled","_el$4","_tmpl$6","_el$5","_el$6","$$keydown","$$input","currentTarget","_el$7","_tmpl$2","_el$9","_el$8","_v$3","_v$4","_v$5","a","_el$0","_tmpl$3","_el$1","_tmpl$4","_el$11","_el$10","_v$6","_v$7","_v$8","_el$12","_tmpl$5","_v$9","_v$0","_v$1","_v$10","_v$11","_v$12","o","n","_v$13","_v$14","_v$15","_$className","_$delegateEvents"],"mappings":"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"}